@page
@model SubnetCalc.Pages.BinaryCalcModel
@{
    ViewData["Title"] = "Binary Calculator";
}

<!-- Page container -->
<div class="container mt-4">

    <!-- Page heading -->
    <h2 class="text-center mb-4">Binary Addition &amp; Subtraction Tool</h2>

    <div class="row justify-content-center">
        <div class="col-md-8">
            <!-- Input Card -->
            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <!-- First binary input -->
                    <div class="mb-3">
                        <label for="binary1" class="form-label">Binary Number 1:</label>
                        <input type="text" class="form-control" id="binary1" placeholder="e.g. 1010">
                    </div>

                    <!-- Second binary input -->
                    <div class="mb-3">
                        <label for="binary2" class="form-label">Binary Number 2:</label>
                        <input type="text" class="form-control" id="binary2" placeholder="e.g. 0011">
                    </div>

                    <!-- Action buttons -->
                    <div class="d-flex align-items-center gap-2 mt-4">
                        <button class="btn btn-success" id="addBtn">Add</button>
                        <button class="btn btn-danger" id="subtractBtn">Subtract</button>
                        <button type="button" class="btn btn-outline-info ms-auto" onclick="toggleHelp()">Need Help?</button>
                    </div>
                </div>
            </div>

            <!-- Help panel (initially hidden) -->
            <div class="binary-help alert alert-secondary mb-4" style="display: none;">
                <p><strong>What this tool does:</strong></p>
                <p>This utility allows you to perform binary addition or subtraction on two binary numbers of your choice.</p>
                <p><strong>How to use:</strong></p>
                <ul>
                    <li>Enter your first binary number (only 0s and 1s) in the "Binary Number 1" field.</li>
                    <li>Enter your second binary number in the "Binary Number 2" field.</li>
                    <li>Click <span class="badge bg-success">Add</span> to compute the sum, or <span class="badge bg-danger">Subtract</span> to compute the difference.</li>
                    <li>The result will appear below in the "Result" area.</li>
                    <li>If your inputs are invalid (non-binary digits), you'll see an error message.</li>
                </ul>
            </div>

            <!-- Result display -->
            <div id="binaryCalcResult" class="mt-3"></div>
        </div>
    </div>
</div>

@section Scripts {
    <!-- Toggle the help panel -->
    <script>
        function toggleHelp() {
            const panel = document.querySelector('.binary-help');
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
        }
    </script>

    <!-- Binary calculation logic -->
    <script src="~/js/binaryCalc.js"></script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7CMQXDK64Z"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-7CMQXDK64Z');
    </script>
}
